---
title: uinappç³»ç»Ÿç›¸å…³ä¿¡æ¯
date: 2025-10-24
duration: 20min
type: notes
art: plum
---

[[toc]]

æ•´ç†ä¸€ä¸‹ç›¸å…³çš„ç³»ç»Ÿä¿¡æ¯ä»¥åŠä½œç”¨

uniappç›¸å…³çš„ç³»ç»Ÿä¿¡æ¯æ–‡æ¡£ï¼š

*https://uniapp.dcloud.net.cn/api/system/info.html*

## è·å–ç³»ç»Ÿä¿¡æ¯

```js
uni.getSystemInfo({
    success: function (e) {
		// e åŒ…å«å„ç§ç³»ç»Ÿä¿¡æ¯
    }
});
```

## titleBarHeightï¼ˆæ ‡é¢˜æ é«˜åº¦ï¼‰

```js
const = titleBarHeight = e.titleBarHeight;
```

ä½œç”¨ï¼š

- åŸç”Ÿå¯¼èˆªæ ï¼ˆæ ‡é¢˜æ ï¼‰çš„é«˜åº¦

- ä¸»è¦åœ¨**æ”¯ä»˜å®å°ç¨‹åº**ä¸­ä½¿ç”¨

- ç”¨é€”ï¼š è®¡ç®—è‡ªå®šä¹‰å¯¼èˆªæ çš„æ€»é«˜åº¦

## statusBarHeightï¼ˆçŠ¶æ€æ é«˜åº¦ï¼‰

```js
const = statusBarHeight = e.statusBarHeight;
```

ä½œç”¨ï¼š

- æ‰‹æœºå±å¹•æœ€é¡¶éƒ¨æ˜¾ç¤ºæ—¶é—´ã€ç”µé‡ã€ä¿¡å·ç­‰ä¿¡æ¯çš„åŒºåŸŸé«˜åº¦

- ä¸åŒæ‰‹æœºå“ç‰Œå’Œå‹å·é«˜åº¦ä¸åŒï¼ˆé€šå¸¸20-44pxï¼‰

- ç”¨é€”ï¼š é¿å…å†…å®¹è¢«çŠ¶æ€æ é®æŒ¡ï¼Œéœ€è¦ç»™é¡¶éƒ¨ç•™å‡ºè¿™ä¸ªé«˜åº¦çš„ç©ºé—´

## getMenuButtonBoundingClientRectï¼ˆå¾®ä¿¡èƒ¶å›ŠæŒ‰é’®ï¼‰

æ–‡æ¡£ï¼š

*https://uniapp.dcloud.net.cn/api/ui/menuButton.html#getmenubuttonboundingclientrect*

```js
const menuButtonInfo = uni.getMenuButtonBoundingClientRect()
```

ä½œç”¨ï¼š

- å¾®ä¿¡å°ç¨‹åºå³ä¸Šè§’èƒ¶å›ŠæŒ‰é’®çš„ä½ç½®ä¿¡æ¯

- åŒ…å«ï¼štopã€bottomã€leftã€rightã€widthã€height

- è‡ªå®šä¹‰å¯¼èˆªæ æ—¶ï¼Œé¿å…å†…å®¹ä¸èƒ¶å›ŠæŒ‰é’®é‡å 

- ç²¾ç¡®è®¡ç®—å¯¼èˆªæ é«˜åº¦

## iPhone å…¨é¢å±ç»“æ„è¯¦ç»†ç¤ºæ„å›¾

### 1. ç«–å±æ¨¡å¼å®Œæ•´ç»“æ„

```
                    â†â”€â”€â”€â”€â”€â”€ 375px (å±å¹•å®½åº¦) â”€â”€â”€â”€â”€â”€â†’
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â† 0px å±å¹•é¡¶éƒ¨
    â”‚                                                   â”‚  â†‘
    â”‚  ğŸ”’ 12:30  ğŸ“¶ğŸ“¶        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ        ğŸ”‹âš¡ 100% â”‚  â”‚
    â”‚                        â–ˆ      â–ˆ                   â”‚  â”‚
    â”‚  â†â”€ æ—¶é—´ â”€â”€â”€â†’         â–ˆ æ‘„åƒå¤´ â–ˆ     â†â”€â”€ ç”µé‡ â”€â†’ â”‚  â”‚ 47px = safe-area-inset-top
    â”‚     ä¿¡å·               â–ˆ Face  â–ˆ         ç”µæ±      â”‚  â”‚ 
    â”‚                        â–ˆ  ID   â–ˆ                  â”‚  â”‚ 
    â”‚  â†å·¦ä¾§çŠ¶æ€æ â†’          â–ˆ ä¼ æ„Ÿå™¨ â–ˆ      â†å³ä¾§çŠ¶æ€æ â†’â”‚  â”‚
    â”‚                        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                   â”‚  â”‚
    â”‚                        â†‘ åˆ˜æµ·åŒº â†‘                 â”‚  â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â†“ 47px
    â”‚                                                   â”‚  â†‘
    â”‚                                                   â”‚  â”‚
    â”‚                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
    â”‚   [â† è¿”å›]        æ ‡é¢˜               â”‚  Â·Â·Â·  Ã—  â”‚ â”‚  â”‚ 46px
    â”‚                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ å¯¼èˆªå†…å®¹åŒº
    â”‚                                     å¾®ä¿¡èƒ¶å›ŠæŒ‰é’®   â”‚  â”‚
    â”‚                                                   â”‚  â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â†“ 93px = customBarHeight
    â”‚                                                   â”‚  â†‘    (å¯¼èˆªæ ç»„ä»¶æ€»é«˜åº¦)
    â”‚                                                   â”‚  â”‚
    â”‚                                                   â”‚  â”‚
    â”‚                                                   â”‚  â”‚
    â”‚                                                   â”‚  â”‚
    â”‚                                                   â”‚  â”‚
    â”‚                 åº”ç”¨å†…å®¹åŒºåŸŸ                       â”‚  â”‚ 685px
    â”‚              (å¯æ»šåŠ¨å†…å®¹åŒºåŸŸ)                      â”‚  â”‚ å¯ç”¨é«˜åº¦
    â”‚                                                   â”‚  â”‚ = 812 - 93 - 34
    â”‚                                                   â”‚  â”‚
    â”‚                                                   â”‚  â”‚
    â”‚                                                   â”‚  â”‚
    â”‚                                                   â”‚  â”‚
    â”‚                                                   â”‚  â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â†“ 778px (812 - 34)
    â”‚                                                   â”‚  â†‘
    â”‚              [å–æ¶ˆ]        [ç¡®è®¤]                  â”‚  â”‚ 60rpx
    â”‚                                                   â”‚  â”‚ æŒ‰é’®åŒºåŸŸ
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â†“
    â”‚                                                   â”‚  â†‘
    â”‚                                                   â”‚  â”‚
    â”‚                                                   â”‚  â”‚ 34px
    â”‚                  â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬                       â”‚  â”‚ safe-area-
    â”‚               Home Indicator                     â”‚  â”‚ inset-bottom
    â”‚                (ç™½è‰²æ¨ªæ¡)                          â”‚  â”‚
    â”‚                                                   â”‚  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â†“ 812px å±å¹•åº•éƒ¨
    â†‘                                                   â†‘
    å±å¹•å·¦è¾¹ç¼˜                                        å±å¹•å³è¾¹ç¼˜
```

### 2. é¡¶éƒ¨åŒºåŸŸè¯¦ç»†åˆ†è§£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â†‘
â”‚                                               â”‚  â”‚
â”‚  12:30  <ä¿¡å·>  <WiFi>      <ç”µé‡> 100% âš¡    â”‚  â”‚ 20px
â”‚                                               â”‚  â”‚ çŠ¶æ€æ ä¿¡æ¯
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â†“ å±‚
â”‚                 â–ˆ         â–ˆ                   â”‚  â†‘
â”‚      åˆ˜æµ·å·¦ä¾§    â–ˆ æ‘„åƒå¤´  â–ˆ      åˆ˜æµ·å³ä¾§      â”‚  â”‚
â”‚   (å¯æ˜¾ç¤ºå†…å®¹)   â–ˆ FaceID  â–ˆ   (å¯æ˜¾ç¤ºå†…å®¹)    â”‚  â”‚ 27px
â”‚                 â–ˆ ä¼ æ„Ÿå™¨  â–ˆ                   â”‚  â”‚ åˆ˜æµ·å‡¹æ§½
â”‚                 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                   â”‚  â”‚ ç‰©ç†åŒºåŸŸ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â†“
        â†‘                               â†‘
        |â†â”€â”€â”€â”€â”€â”€â”€ 47px (æ€»é«˜åº¦) â”€â”€â”€â”€â”€â†’|
        	safe-area-inset-top
```

### 3. åº•éƒ¨åŒºåŸŸè¯¦ç»†åˆ†è§£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â†‘
â”‚                                               â”‚  â”‚
â”‚          [å–æ¶ˆ]        [ç¡®è®¤]                  â”‚  â”‚ 70rpx
â”‚                                               â”‚  â”‚ æŒ‰é’®é«˜åº¦
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â†“
â”‚                                               â”‚  â†‘
â”‚              (paddingåŒºåŸŸ)                     â”‚  â”‚ 24rpx
â”‚                                               â”‚  â”‚ å†…è¾¹è·
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â†“
â”‚                                               â”‚  â†‘
â”‚               â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬                     â”‚  â”‚ 34px
â”‚            Home Indicator                    â”‚  â”‚ safe-area-
â”‚           (ç™½è‰²æ¨ªæ¡æ‰‹åŠ¿åŒº)                     â”‚  â”‚ inset-bottom
â”‚                                               â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â†“
        â†‘                               â†‘
        |â†â”€â”€â”€â”€â”€â”€ env(safe-area-inset-bottom) â”€â”€â”€â”€â†’|
```

### 4. æ¨ªå±æ¨¡å¼è¯¦ç»†ç»“æ„ï¼ˆåˆ˜æµ·åœ¨å·¦ä¾§ï¼‰

```
              â† 812px (iPhone å®½åº¦) â†’
    â”Œâ”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚â–“â–“â”‚                                      â”‚  â†‘
    â”‚â–“â–“â”‚                                      â”‚  â”‚
    â”‚åˆ˜â”‚                                      â”‚  â”‚
    â”‚æµ·â”‚                                      â”‚  â”‚
    â”‚å‡¹â”‚          åº”ç”¨å†…å®¹åŒºåŸŸ                 â”‚  â”‚ 375px
    â”‚æ§½â”‚                                      â”‚  â”‚ (é«˜åº¦)
    â”‚â–“â–“â”‚                                      â”‚  â”‚
    â”‚â–“â–“â”‚     [æ§åˆ¶æŒ‰é’®]                       â”‚  â”‚
    â”‚â–“â–“â”‚                                      â”‚  â”‚
    â””â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â†“
    â†‘â†”â†‘                                      â†‘â†”â†‘
    â”‚ â”‚                                      â”‚ â”‚
   44px                                     0px
    â”‚                                         â”‚
safe-area-                              safe-area-
inset-left                            inset-right
(æ¨ªå±éå®‰å…¨åŒº)                         (æ¨ªå±å®‰å…¨)
```

### 5. å®Œæ•´é¡µé¢é«˜åº¦è®¡ç®—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â† å±å¹•é¡¶éƒ¨ (0px)
â”‚   çŠ¶æ€æ  + åˆ˜æµ·          â”‚  â†• 47px (safe-area-inset-top)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  
â”‚   è‡ªå®šä¹‰å¯¼èˆªæ            â”‚  â†• 44px
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â† å†…å®¹åŒºåŸŸèµ·ç‚¹
â”‚                         â”‚  
â”‚                         â”‚  â†• å¯ç”¨é«˜åº¦ = å±å¹•æ€»é«˜åº¦
â”‚    å¯æ»šåŠ¨å†…å®¹åŒºåŸŸ        â”‚     - 47px (é¡¶éƒ¨)
â”‚                         â”‚     - 44px (å¯¼èˆª)
â”‚                         â”‚     - 34px (åº•éƒ¨)
â”‚                         â”‚     = 812 - 174 = 687px
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â† å†…å®¹åŒºåŸŸç»ˆç‚¹
â”‚   åº•éƒ¨æŒ‰é’®åŒº             â”‚  â†• 60rpx
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   åº•éƒ¨å®‰å…¨åŒºç•™ç™½         â”‚  â†• 34px (safe-area-inset-bottom)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â† å±å¹•åº•éƒ¨ (812px)

æ€»é«˜åº¦ï¼š812px (iPhone 14 æ ‡å‡†)
```

## å®‰å…¨åŒºåŸŸå±æ€§

å®‰å…¨åŒºåŸŸå±æ€§åŒ…å«ï¼š

- safe-area-inset-top
- safe-area-inset-bottom
- safe-area-inset-left
- safe-area-inset-right

```css
/* å®Œæ•´çš„å®‰å…¨åŒºåŸŸé€‚é… */
.full-screen-content {
  padding-top: env(safe-area-inset-top);        /* é¡¶éƒ¨åˆ˜æµ·åŒºåŸŸ */
  padding-bottom: env(safe-area-inset-bottom);  /* åº•éƒ¨HomeåŒºåŸŸ */
  padding-left: env(safe-area-inset-left);      /* å·¦ä¾§ï¼ˆæ¨ªå±æ—¶ï¼‰ */
  padding-right: env(safe-area-inset-right);    /* å³ä¾§ï¼ˆæ¨ªå±æ—¶ï¼‰ */
}
```

### safe-area-inset-bottomï¼ˆåº•éƒ¨å®‰å…¨åŒºåŸŸï¼‰

ä» iPhone X å¼€å§‹ï¼Œè‹¹æœå–æ¶ˆäº†ç‰©ç†Homeé”®ï¼Œæ”¹ç”¨å…¨é¢å±è®¾è®¡ï¼Œåº•éƒ¨æœ‰ä¸€ä¸ªç™½è‰²æ¨ªæ¡ï¼ˆHome Indicatorï¼‰ç”¨äºæ‰‹åŠ¿æ“ä½œã€‚è¿™ä¸ªåŒºåŸŸå°±æ˜¯éå®‰å…¨åŒºåŸŸã€‚

ä½œç”¨ï¼š

- åº•éƒ¨éå®‰å…¨åŒºåŸŸçš„é«˜åº¦ï¼ˆä¸»è¦é’ˆå¯¹iPhone XåŠä»¥ä¸Šæœ‰"åˆ˜æµ·"æˆ–"è¯ä¸¸"å±çš„è®¾å¤‡ï¼Œæ‰‹æœºåº•éƒ¨çš„**ç™½è‰²æ¨ªæ¡**ï¼‰

- åº•éƒ¨çš„HomeæŒ‡ç¤ºå™¨åŒºåŸŸé«˜åº¦

- ç”¨é€”ï¼š é˜²æ­¢åº•éƒ¨æŒ‰é’®æˆ–å†…å®¹è¢«HomeæŒ‡ç¤ºå™¨é®æŒ¡ï¼Œç¡®ä¿å¯ç‚¹å‡»åŒºåŸŸåœ¨å®‰å…¨èŒƒå›´å†…

è§†è§‰ç¤ºæ„ï¼š

- æ­£å¸¸çš„æ˜¾ç¤º

  ```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                             â”‚
  â”‚                             â”‚
  â”‚     åº”ç”¨å†…å®¹åŒºåŸŸ              â”‚
  â”‚                             â”‚
  â”‚                             â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â† è¿™é‡Œæ˜¯åº•éƒ¨æŒ‰é’®
  â”‚  [ç¡®è®¤]        [å–æ¶ˆ]        â”‚ â† å¯ç‚¹å‡»åŒºåŸŸ
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚      â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬           â”‚ â† Home Indicator (ç™½è‰²æ¨ªæ¡)
  â”‚   (éå®‰å…¨åŒºåŸŸ ~34px)         â”‚ â† è¿™éƒ¨åˆ†æ˜¯ safe-area-inset-bottom
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```

- âŒ ä¸é€‚é…çš„é—®é¢˜

  ```css
  .footer-button {
    position: fixed;
    bottom: 0;  /* ç›´æ¥è´´åº• */
    padding: 20rpx;
  }
  ```

  ```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  [ç¡®è®¤]  [å–æ¶ˆ]          â”‚ â† æŒ‰é’®è¢«é®æŒ¡
  â”‚    â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬            â”‚ â† Home Indicator è¦†ç›–åœ¨æŒ‰é’®ä¸Š
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```

  åœ¨ iPhone X ä¸Šï¼ŒæŒ‰é’®ä¼šè¢« Home Indicator é®æŒ¡éƒ¨åˆ†ï¼Œç”¨æˆ·ç‚¹å‡»æ—¶å®¹æ˜“è¯¯è§¦å‘è¿”å›æ‰‹åŠ¿ã€‚

- âœ… æ­£ç¡®é€‚é…

  ```css
  .footer-button {
    position: fixed;
    bottom: 0;
    padding: 20rpx;
    padding-bottom: calc(20rpx + env(safe-area-inset-bottom));  /* å…³é”® */
  }
  ```

  ```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  [ç¡®è®¤]  [å–æ¶ˆ]          â”‚ â† æŒ‰é’®åœ¨å®‰å…¨åŒºåŸŸå†…
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                         â”‚ â† é¢å¤–çš„ 34px ç©ºç™½
  â”‚    â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬            â”‚ â† Home Indicator
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```

   æŒ‰é’®ä¼šè‡ªåŠ¨å‘ä¸Šåç§» 34pxï¼Œé¿å¼€ Home Indicator

### safe-area-inset-topï¼ˆé¡¶éƒ¨å®‰å…¨åŒºåŸŸï¼‰

iPhone X åŠä»¥ä¸Šè®¾å¤‡é¡¶éƒ¨æœ‰åˆ˜æµ·ï¼ˆæˆ–è¯ä¸¸æŒ–å­”ï¼‰ï¼Œé‡Œé¢åŒ…å«æ‘„åƒå¤´å’Œä¼ æ„Ÿå™¨ã€‚è¿™ä¸ªåŒºåŸŸæ— æ³•æ˜¾ç¤ºå†…å®¹ï¼Œå°±æ˜¯é¡¶éƒ¨éå®‰å…¨åŒºåŸŸã€‚

è§†è§‰ç¤ºæ„ï¼š

- æ­£å¸¸æ˜¾ç¤ºï¼š

  ```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  12:30  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%  â”‚ 
  â”‚  (æ‘„åƒå¤´)      (çŠ¶æ€æ )      â”‚ â† safe-area-inset-top (~44-50px)  åˆ˜æµ·åŒºåŸŸ (éå®‰å…¨åŒºåŸŸ)
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚   â† è¿”å›     é¡µé¢æ ‡é¢˜    â‹®  â”‚ â† è‡ªå®šä¹‰å¯¼èˆªæ ï¼ˆå®‰å…¨åŒºåŸŸï¼‰
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                             â”‚
  â”‚      åº”ç”¨å†…å®¹åŒºåŸŸ             â”‚
  â”‚                             â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```

- âŒ ä¸é€‚é…çš„é—®é¢˜

  ```css
  .custom-navbar {
    position: fixed;
    top: 0;
    height: 44px;  /* å›ºå®šé«˜åº¦ */
    background: #fff;
  }
  ```

  ```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â”‚ â† åˆ˜æµ·
  â”‚  â† [æ ‡é¢˜è¢«é®æŒ¡]    â‹®   â”‚ â† å¯¼èˆªæ å†…å®¹è¢«é®æŒ¡
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  å†…å®¹åŒºåŸŸ                â”‚
  ```

-  âœ… æ­£ç¡®é€‚é…

  ```
  .custom-navbar {
    position: fixed;
    top: 0;
    padding-top: env(safe-area-inset-top);  /* è‡ªåŠ¨é€‚é…åˆ˜æµ·é«˜åº¦ */
    background: #fff;
  }
  
  .navbar-content {
    height: 44px;  /* å¯¼èˆªæ å†…å®¹é«˜åº¦ */
  }
  ```

  ```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  12:30  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â”‚ â† åˆ˜æµ·åŒºåŸŸï¼ˆç©ºç™½æˆ–èƒŒæ™¯è‰²ï¼‰
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  â† è¿”å›   æ ‡é¢˜   â‹®      â”‚ â† å¯¼èˆªæ å†…å®¹ï¼ˆæ¸…æ™°å¯è§ï¼‰
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  å†…å®¹åŒºåŸŸ                â”‚
  ```

### safe-area-inset-rightï¼ˆå³ä¾§å®‰å…¨åŒºåŸŸï¼‰

åœ¨**æ¨ªå±æ¨¡å¼ä¸‹ï¼Œåˆ˜æµ·åœ¨å³ä¾§**æ—¶éœ€è¦é¿å¼€çš„åŒºåŸŸã€‚

è§†è§‰ç¤ºæ„ï¼š

- æ­£å¸¸æ˜¾ç¤º

  ```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”
  â”‚                                â”‚â–“â–“â”‚
  â”‚  å†…å®¹åŒºåŸŸ                       â”‚â–“â–“â”‚
  â”‚                                â”‚åˆ˜â”‚  
  â”‚        æ¨ªå±æ¸¸æˆ/è§†é¢‘             â”‚æµ·â”‚
  â”‚                                â”‚â–“â–“â”‚
  â”‚                                â”‚â–“â–“â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”˜
                                    â†‘
                                 rightåŒºåŸŸ
                                  (~44px)
  ```

- âŒ ä¸é€‚é…çš„é—®é¢˜

  ```css
  .video-close-btn {
    position: fixed;
    right: 20px;  /* å›ºå®šå³è¾¹è· */
    top: 20px;
  }
  ```

  ```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”
  â”‚         [X]  â”‚â–“â–“â”‚ â† æŒ‰é’®è¢«é®æŒ¡
  â”‚              â”‚åˆ˜â”‚
  â”‚  è§†é¢‘å†…å®¹     â”‚æµ·â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”˜
  ```

- âœ… æ­£ç¡®é€‚é…

  ```css
  .video-close-btn {
    position: fixed;
    right: 20px;
    top: 20px;
    margin-right: env(safe-area-inset-right);  /* è‡ªåŠ¨å·¦ç§» */
  }
  ```

  ```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”
  â”‚      [X]    â”‚â–“â–“â”‚ â† æŒ‰é’®æ¸…æ™°å¯è§
  â”‚             â”‚åˆ˜â”‚
  â”‚  è§†é¢‘å†…å®¹    â”‚æµ·â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”˜
  ```

### safe-area-inset-leftï¼ˆå·¦ä¾§å®‰å…¨åŒºåŸŸï¼‰

ä¸»è¦åœ¨**æ¨ªå±æ¨¡å¼ï¼ˆlandscapeï¼‰**ä¸‹ä½¿ç”¨ï¼Œåˆ˜æµ·æˆ–è¯ä¸¸åœ¨å·¦ä¾§æ—¶ï¼Œéœ€è¦é¿å¼€è¿™ä¸ªåŒºåŸŸã€‚

è§†è§‰ç¤ºæ„ï¼š

- æ­£å¸¸æ˜¾ç¤º

  ```
  â”Œâ”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚â–“â–“â”‚                                â”‚
  â”‚â–“â–“â”‚  å†…å®¹åŒºåŸŸ                       â”‚
  â”‚åˆ˜â”‚                                â”‚  
  â”‚æµ·â”‚        æ¨ªå±æ¸¸æˆ/è§†é¢‘             â”‚
  â”‚â–“â–“â”‚                                â”‚
  â”‚â–“â–“â”‚                                â”‚
  â””â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†‘
   leftåŒºåŸŸ
   (~44px)
  ```

- âŒ ä¸é€‚é…çš„é—®é¢˜

  ```css
  .game-controls-left {
    position: fixed;
    left: 0;  /* ç›´æ¥è´´å·¦è¾¹ */
    top: 50%;
  }
  ```

  ```
  â”Œâ”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚â–“â–“â”‚ [â†‘]          â”‚ â† æ–¹å‘é”®è¢«åˆ˜æµ·é®æŒ¡
  â”‚åˆ˜â”‚â†[â—]â†’         â”‚
  â”‚æµ·â”‚ [â†“]          â”‚
  â””â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```

- âœ… æ­£ç¡®é€‚é…

  ```css
  .game-controls-left {
    position: fixed;
    left: 0;
    padding-left: env(safe-area-inset-left);  /* æ¨ªå±æ—¶è‡ªåŠ¨å³ç§» */
    top: 50%;
  }
  ```

  ```
  â”Œâ”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚â–“â–“â”‚    [â†‘]      â”‚ â† æŒ‰é’®åœ¨å®‰å…¨åŒºåŸŸ
  â”‚åˆ˜â”‚  â†[â—]â†’      â”‚
  â”‚æµ·â”‚    [â†“]      â”‚
  â””â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```

## æ–¹æ¡ˆ

ä»£ç å‚è€ƒï¼š

*https://github.com/unibest-tech/unibest/blob/main/src/utils/systemInfo.ts*

å·²æœ‰æˆç†Ÿçš„æ–¹æ¡ˆ

JSä»£ç ï¼š

```js
// è·å–å±å¹•è¾¹ç•Œåˆ°å®‰å…¨åŒºåŸŸè·ç¦»
let systemInfo
let safeAreaInsets

// #ifdef MP-WEIXIN
// å¾®ä¿¡å°ç¨‹åºä½¿ç”¨æ–°çš„API
systemInfo = uni.getWindowInfo()
safeAreaInsets = systemInfo.safeArea
  ? {
      top: systemInfo.safeArea.top,
      right: systemInfo.windowWidth - systemInfo.safeArea.right,
      bottom: systemInfo.windowHeight - systemInfo.safeArea.bottom,
      left: systemInfo.safeArea.left,
    }
  : null
// #endif

// #ifndef MP-WEIXIN
// å…¶ä»–å¹³å°ç»§ç»­ä½¿ç”¨uni API
systemInfo = uni.getSystemInfoSync()
safeAreaInsets = systemInfo.safeAreaInsets
// #endif

console.log('systemInfo', systemInfo)
// å¾®ä¿¡é‡Œé¢æ‰“å°
// pixelRatio: 3
// safeArea: {top: 47, left: 0, right: 390, bottom: 810, width: 390, â€¦}
// safeAreaInsets: {top: 47, left: 0, right: 0, bottom: 34}
// screenHeight: 844
// screenTop: 91
// screenWidth: 390
// statusBarHeight: 47
// windowBottom: 0
// windowHeight: 753
// windowTop: 0
// windowWidth: 390
export { safeAreaInsets, systemInfo }
```

æ‰“å°ç»“æœè§£è¯»ï¼š

```js
// å¾®ä¿¡å°ç¨‹åºæ‰“å°ç»“æœ
{
  pixelRatio: 3,              // åƒç´ æ¯”ï¼ˆiPhone çš„ Retina å±ï¼‰
  
  // å®‰å…¨åŒºåŸŸï¼ˆç»å¯¹åæ ‡ï¼‰
  safeArea: {
    top: 47,                  // å®‰å…¨åŒºåŸŸèµ·å§‹ä½ç½®ï¼ˆçŠ¶æ€æ ä¸‹æ–¹ï¼‰
    left: 0,                  
    right: 390,               // å®‰å…¨åŒºåŸŸç»“æŸä½ç½®ï¼ˆå±å¹•å®½åº¦ï¼‰
    bottom: 810,              // å®‰å…¨åŒºåŸŸç»“æŸä½ç½®ï¼ˆHomeæŒ‡ç¤ºå™¨ä¸Šæ–¹ï¼‰
    width: 390,               
    height: 763
  },
  
  // å®‰å…¨åŒºåŸŸå†…è¾¹è·ï¼ˆé‡ç‚¹ï¼ï¼‰
  safeAreaInsets: {
    top: 47,                  // é¡¶éƒ¨éœ€è¦é¿å¼€ 47pxï¼ˆçŠ¶æ€æ +åˆ˜æµ·ï¼‰
    left: 0,                  // å·¦ä¾§æ— éœ€é¿å¼€
    right: 0,                 // å³ä¾§æ— éœ€é¿å¼€
    bottom: 34                // åº•éƒ¨éœ€è¦é¿å¼€ 34pxï¼ˆHomeæŒ‡ç¤ºå™¨ï¼‰
  },
  
  screenHeight: 844,          // å±å¹•ç‰©ç†é«˜åº¦
  screenWidth: 390,           // å±å¹•ç‰©ç†å®½åº¦
  statusBarHeight: 47,        // çŠ¶æ€æ é«˜åº¦
  windowHeight: 753,          // å¯ç”¨çª—å£é«˜åº¦ï¼ˆ844 - çŠ¶æ€æ  - tabBarç­‰ï¼‰
  windowWidth: 390            // å¯ç”¨çª—å£å®½åº¦
}
```


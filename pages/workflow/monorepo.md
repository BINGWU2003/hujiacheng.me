---
title: monorepo
date: 2024-08-13
duration: 3min
type: workflow
art: random
draft: true
---

## 什么是 monorepo

`monorepo` 是一种项目代码管理方式，指单个仓库中管理多个项目，有助于简化代码共享、版本控制、构建和部署等方面的复杂性，并提供更好的可重用性和协作性。这种方法也被许多著名开源项目所使用，比如 `Vue`、`React`、`Babel` 和 `Laravel` 等。

## 为什么用

你可以设想一下：一个大型项目，其中包含了 `electron` 端项目、 `web` 端项目和一个管理后台，两个C端项目的UI相差无几，并且三个项目都是共用同一套api，那么如果按照常规方法，分别建立三个仓库分别管理三个项目，并且复用的逻辑代码全部重新复制一遍，如果有改动则需要修改三个仓库代码。

听上去就觉得累了吧，我也觉得。我之前在公司就有碰到同样的问题，所以我也对公司项目进行了迁移。这个灵感我也是来自于最新的 `vben-admin v5.0`，它也采用了monorepo的方式进行管理，并将项目的功能原子化，将组件库、工具库、通用业务、以及代码规范和提交规范都提取成单独的模块，这样就大大避免了耦合度过高的问题。

## 优缺点

通过上面的小例子我们就能得知monorepo的优点，并能知道它的缺点：

优点：

- 代码共享和复用
- 统一的版本控制和构建过程
- 更好的代码可见性和管理
- 提高开发效率和减少构建时间

缺点：

- 代码仓库过大
- 复杂的依赖关系和构建配置
- 团队协作难道增加
- 部署和发布复杂度增加
